(function(e){function t(t){for(var a,o,i=t[0],s=t[1],c=t[2],u=0,m=[];u<i.length;u++)o=i[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&m.push(r[o][0]),r[o]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);f&&f(t);while(m.length)m.shift()();return l.push.apply(l,c||[]),n()}function n(){for(var e,t=0;t<l.length;t++){for(var n=l[t],a=!0,o=1;o<n.length;o++){var i=n[o];0!==r[i]&&(a=!1)}a&&(l.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},o={app:0},r={app:0},l=[];function i(e){return s.p+"js/"+({}[e]||e)+"."+{"chunk-b6b04a64":"e75584ca"}[e]+".js"}function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(e){var t=[],n={"chunk-b6b04a64":1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-b6b04a64":"0812625c"}[e]+".css",r=s.p+a,l=document.getElementsByTagName("link"),i=0;i<l.length;i++){var c=l[i],u=c.getAttribute("data-href")||c.getAttribute("href");if("stylesheet"===c.rel&&(u===a||u===r))return t()}var m=document.getElementsByTagName("style");for(i=0;i<m.length;i++){c=m[i],u=c.getAttribute("data-href");if(u===a||u===r)return t()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=t,f.onerror=function(t){var a=t&&t.target&&t.target.src||r,l=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");l.code="CSS_CHUNK_LOAD_FAILED",l.request=a,delete o[e],f.parentNode.removeChild(f),n(l)},f.href=r;var d=document.getElementsByTagName("head")[0];d.appendChild(f)})).then((function(){o[e]=0})));var a=r[e];if(0!==a)if(a)t.push(a[2]);else{var l=new Promise((function(t,n){a=r[e]=[t,n]}));t.push(a[2]=l);var c,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=i(e);var m=new Error;c=function(t){u.onerror=u.onload=null,clearTimeout(f);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;m.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",m.name="ChunkLoadError",m.type=a,m.request=o,n[1](m)}r[e]=void 0}};var f=setTimeout((function(){c({type:"timeout",target:u})}),12e4);u.onerror=u.onload=c,document.head.appendChild(u)}return Promise.all(t)},s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/vue-components/",s.oe=function(e){throw console.error(e),e};var c=window["webpackJsonp"]=window["webpackJsonp"]||[],u=c.push.bind(c);c.push=t,c=c.slice();for(var m=0;m<c.length;m++)t(c[m]);var f=u;l.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"072d":function(e,t,n){},"14df":function(e,t,n){},"4f67":function(e,t,n){"use strict";n("d2b3")},"4ffa":function(e,t,n){"use strict";n("14df")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],l={name:"App",components:{}},i=l,s=(n("7c55"),n("0c7c")),c=Object(s["a"])(i,o,r,!1,null,null,null),u=c.exports,m=n("9483");Object(m["a"])("".concat("/vue-components/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("d3b7"),n("3ca3"),n("ddb0");var f=n("8c4f"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-container",[n("el-aside",{staticClass:"aside",attrs:{width:"200px"}},[n("menu-side")],1),n("el-main",[n("router-view")],1)],1)},p=[],h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"1-4-1"}},e._l(e.routes,(function(t){return n("el-menu-item-group",{key:t.name},[n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.meta.title))]),e._l(t.children,(function(t){return n("el-menu-item",{key:t.name,on:{click:function(n){return e.jumpPage(t)}}},[e._v(" "+e._s(t.meta.title)+" ")])}))],2)})),1)],1)},y=[],v={name:"MenuSide",data:function(){return{routes:M}},methods:{jumpPage:function(e){var t=this.$route.path;t!==e.path&&this.$router.push({path:e.path})}}},g=v,b=Object(s["a"])(g,h,y,!1,null,"abaecba0",null),_=b.exports,w={name:"Layout",components:{menuSide:_}},x=w,k=(n("4f67"),Object(s["a"])(x,d,p,!1,null,"0841fde4",null)),L=k.exports;a["default"].use(f["a"]);var M=[{path:"/",name:"Layout",component:L,meta:{title:"form"},children:[{path:"/mg-search-form",name:"mgSearchForm",component:function(){return n.e("chunk-b6b04a64").then(n.bind(null,"97f4"))},meta:{title:"mgSearchForm"}}]}],j=new f["a"]({mode:"hash",base:"/vue-components/",routes:M}),T=j,Y=n("2f62");a["default"].use(Y["a"]);var E=new Y["a"].Store({state:{},mutations:{},actions:{},modules:{}}),F=(n("e4cb"),n("d81d"),n("b0c0"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-form",e._g(e._b({ref:"form",attrs:{model:e.form}},"el-form",e.$attrs,!1),e.$listeners),[n("el-row",[e._l(e.formItemList,(function(t,a){return n("el-col",{directives:[{name:"show",rawName:"v-show",value:a<=e.firstIndex||e.expandType,expression:"index <= firstIndex || expandType"}],key:a,attrs:{span:t.span||6}},[t.turnLabel?n("el-form-item",{scopedSlots:e._u([{key:"label",fn:function(){return[n("el-dropdown",{on:{command:function(n){return e.handleCommand(n,t)}}},[n("span",{staticClass:"dropdown-label"},[e._v(" "+e._s(t.label)+" "),n("i",{staticClass:"el-icon-caret-bottom el-icon--right dropdown-icon"})]),n("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(t.attrs.options,(function(t,a){return n("el-dropdown-item",{key:a,attrs:{command:t.model}},[e._v(e._s(t.label))])})),1)],1)]},proxy:!0}],null,!0)},[n("el-input",{attrs:{placeholder:t.placeholder,clearable:""},model:{value:e.form[t.model],callback:function(n){e.$set(e.form,t.model,n)},expression:"form[item.model]"}})],1):n("el-form-item",{attrs:{label:t.label,prop:t.model}},["input"===t.type?n("el-input",{attrs:{placeholder:t.placeholder||"请输入",clearable:""},model:{value:e.form[t.model],callback:function(n){e.$set(e.form,t.model,n)},expression:"form[item.model]"}}):e._e(),"select"===t.type?n("el-select",{attrs:{multiple:Array.isArray(t.initialValue||""),"collapse-tags":"",clearable:"",filterable:"",placeholder:t.placeholder||"请选择"},on:{change:function(n){return e.selectChange(n,t)}},model:{value:e.form[t.model],callback:function(n){e.$set(e.form,t.model,n)},expression:"form[item.model]"}},e._l(t.options,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1):e._e(),"date"===t.type?n("el-date-picker",{style:"date"===t.type&&"daterange"===t.attrs.type?{width:"264px",marginRight:"10px"}:{},attrs:{type:t.attrs.type||"date",format:t.attrs.format||"yyyy-MM-dd","value-format":t.attrs.valueFormat||"timestamp",placeholder:t.placeholder||"请选择","range-separator":t.attrs.rangeSeparator||"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},on:{change:function(n){return e.dateChange(n,t)}},model:{value:e.form[t.model],callback:function(n){e.$set(e.form,t.model,n)},expression:"form[item.model]"}}):e._e(),"date"===t.type&&"daterange"===t.attrs.type?n("div",{staticStyle:{display:"inline-block",position:"relative",top:"-1px"}},e._l(e.dateList,(function(a){return n("el-button",{key:a.value,on:{click:function(n){return e.createDate(a,t)}}},[e._v(e._s(a.name))])})),1):e._e(),"range"===t.type?n("div",[n("el-input-number",{attrs:{placeholder:t.placeholder,controls:!1},on:{blur:function(n){return e.rangeBlur("min",t)}},model:{value:e.form[t.model],callback:function(n){e.$set(e.form,t.model,n)},expression:"form[item.model]"}}),n("span",{staticStyle:{padding:"0 5px"}},[e._v(e._s(t.separator))]),n("el-input-number",{attrs:{placeholder:t.maxPlaceholder,controls:!1},on:{blur:function(n){return e.rangeBlur("max",t)}},model:{value:e.form[t.maxModel],callback:function(n){e.$set(e.form,t.maxModel,n)},expression:"form[item.maxModel]"}})],1):e._e()],1)],1)})),n("el-col",{staticClass:"button_box",attrs:{span:6}},[n("el-form-item",{staticClass:"button_position",attrs:{"label-width":"0"}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-search"},on:{click:e.handleSearch}},[e._v("查询")]),n("el-button",{attrs:{icon:"el-icon-refresh"},on:{click:e.handleReset}},[e._v("重置")]),n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.spanLength>=24*e.row,expression:"spanLength >= 24 * row"}],attrs:{type:"text"},on:{click:e.openForm}},[e.expandType?n("span",[e._v("收起筛选")]):n("span",[e._v("更多筛选")]),e.expandType?n("i",{staticClass:"el-icon-arrow-up"}):n("i",{staticClass:"el-icon-arrow-down"})])],1)],1)],2)],1),!e.expandType&&e.hideFormList.length>0?n("section",{staticClass:"form_footer"},[n("div",{staticClass:"tag_title"},[e._v("已选条件：")]),n("div",{staticClass:"tag_content"},e._l(e.hideFormList,(function(t,a){return n("el-tag",{key:a,staticClass:"tag_box",attrs:{closable:"",size:"mini"},on:{close:function(n){return e.closeTag(t)}}},["input"===t.type?n("span",[e._v(" "+e._s(t.label)+": "+e._s(t.value)+" ")]):"select"===t.type?n("span",[e._v(" "+e._s(t.label)+": "+e._s(t.value.map((function(e){return e.label})).toString())+" ")]):"daterange"===t.type?n("span",[e._v(" "+e._s(t.label)+": "+e._s(e.dayjs(t.value[0]).format("YYYY-MM-DD"))+" 至 "+e._s(e.dayjs(t.value[1]).format("YYYY-MM-DD"))+" ")]):"datetimerange"===t.type?n("span",[e._v(" "+e._s(t.label)+": "+e._s(e.dayjs(t.value[0]).format("YYYY-MM-DD HH:mm:ss"))+" 至 "+e._s(e.dayjs(t.value[1]).format("YYYY-MM-DD HH:mm:ss"))+" ")]):"monthrange"===t.type?n("span",[e._v(" "+e._s(t.label)+": "+e._s(e.dayjs(t.value[0]).format("YYYY-MM"))+" 至 "+e._s(e.dayjs(t.value[1]).format("YYYY-MM"))+" ")]):"dates"===t.type?n("span",[e._v(" "+e._s(t.label)+": "+e._s(t.value.map((function(t){return e.dayjs(t).format("YYYY-MM-DD")})).toString())+" ")]):"week"===t.type?n("span",[e._v(" "+e._s(t.label)+": "+e._s(t.value)+" ")]):"date"===t.type?n("span",[e._v(" "+e._s(t.label)+": "+e._s(e.dayjs(t.value).format("YYYY-MM-DD"))+" ")]):"range"===t.type?n("span",[e._v(" "+e._s(t.label)+": "+e._s(t.value)+" ")]):e._e()])})),1),n("div",{staticClass:"tag_close"},[n("el-button",{attrs:{type:"text"},on:{click:e.handleReset}},[e._v("清除")])],1)]):e._e()],1)}),C=[],D=n("5530"),S=(n("a9e3"),n("159b"),n("4de4"),n("b64b"),n("e9c4"),{methods:{getHideData:function(){var e=this;this.hideFormList=[];var t=[];this.formItemList.forEach((function(n,a){a>e.firstIndex&&Object.keys(e.form).forEach((function(a){n.model===a&&("string"===typeof e.form[a]&&""!==e.form[a]&&null!==e.form[a]||e.form[a]instanceof Array&&e.form[a].length>0||"number"===typeof e.form[a]&&""!==e.form[a]&&null!==e.form[a])&&t.push(!0)}))})),this.formItemList.forEach((function(n){t.length>0&&Object.keys(e.form).forEach((function(t){n.model===t&&("string"===typeof e.form[t]&&""!==e.form[t]&&null!==e.form[t]||e.form[t]instanceof Array&&e.form[t].length>0||"number"===typeof e.form[t]&&""!==e.form[t]&&null!==e.form[t])&&e.getItemData(n,t)}))}))},getItemData:function(e,t){var n=this;if("input"===e.type)this.hideFormList.push({type:e.type,key:t,value:this.form[t],label:e.label});else if("select"===e.type){if(e.initialValue instanceof Array&&this.form[t].length>0){var a=[];e.options.forEach((function(e){n.form[t].forEach((function(t){e.value===t&&a.push({label:e.label,value:t})}))})),this.hideFormList.push({type:e.type,key:t,value:a,label:e.label})}else if(""!==this.form[t]){var o=[];e.options.forEach((function(e){e.value===n.form[t]&&o.push({label:e.label,value:e.value})})),this.hideFormList.push({type:e.type,key:t,value:o,label:e.label})}}else"date"===e.type&&null!==this.form[t]?e.initialValue instanceof Array?this.hideFormList.push({type:e.attrs.type,valueFormat:e.attrs.valueFormat,key:t,value:this.form[t],label:e.label}):null!==this.form[t]&&this.hideFormList.push({type:e.attrs.type,key:t,value:this.form[t],label:e.label}):"range"===e.type&&""!==this.form[t]&&null!==this.form[t]&&void 0!==this.form[t]&&this.hideFormList.push({type:e.type,key:t,value:this.form[t]+e.separator+this.form[e.maxModel],label:e.label})}}}),O=n("1fca"),$=n.n(O),I={name:"mgSearchForm",props:{formItemList:{type:Array,default:function(){return[]}},row:{type:Number,default:1}},mixins:[S],data:function(){return{dayjs:$.a,form:{},expandType:!1,itemList:[],firstIndex:0,spanLength:0,hideFormList:[],dateList:[{name:"今",type:"today"},{name:"昨",type:"yesterday"},{name:"近7天",type:"week"},{name:"近30天",type:"month"}]}},mounted:function(){var e=this;this.spanLength=0;var t={};this.formItemList.forEach((function(n,a){e.spanLength+=n.span||6,"range"===n.type?(t[n.model]=n.initialValue||void 0,t[n.maxModel]=n.maxInitialValue||void 0):t[n.model]=n.initialValue||"",e.spanLength<24*e.row&&(e.firstIndex=a)})),this.form=t},methods:{handleSearch:function(){var e=this;this.$refs.form.validate((function(t){t&&(e.spreadData(e.form),e.expandType=!1,e.getHideData())}))},createDate:function(e,t){var n=new Date;"today"===e.type?this.form[t.model]=[n.getTime(),n.getTime()]:"yesterday"===e.type?this.form[t.model]=[n.getTime()-864e5,n.getTime()-864e5]:"week"===e.type?this.form[t.model]=[n.getTime()-6048e5,n.getTime()]:"month"===e.type&&(this.form[t.model]=[n.getTime()-2592e6,n.getTime()])},selectChange:function(e,t){t.change&&t.change(e,t)},dateChange:function(e,t){t.change&&t.change(e,t)},handleCommand:function(e,t){var n=this;this.formItemList.forEach((function(a,o){a.dropdownType===t.dropdownType&&t.attrs.options.forEach((function(a){a.model===e?n.$set(n.formItemList,o,Object(D["a"])(Object(D["a"])({},t),a)):n.form[a.model]=""}))})),this.getHideData()},closeTag:function(e){this.hideFormList=this.hideFormList.filter((function(t){return t.key!==e.key})),this.resetForm(e)},resetForm:function(e){var t=this;Object.keys(this.form).forEach((function(n){n===e.key&&("string"===typeof t.form[n]?t.$set(t.form,n,""):t.form[n]instanceof Array?t.$set(t.form,n,[]):t.$set(t.form,n,""))})),this.spreadData(this.form)},openForm:function(){this.expandType=!this.expandType,this.getHideData()},handleReset:function(){var e={};this.formItemList.forEach((function(t){"range"===t.type?(e[t.model]=t.initialValue||void 0,e[t.maxModel]=t.maxInitialValue||void 0):e[t.model]=t.initialValue||""})),this.hideFormList=[],this.form=e,this.spreadData(this.form)},rangeBlur:function(e,t){"min"===e?this.form[t.maxModel]&&this.form[t.model]>this.form[t.maxModel]&&this.$message.warning("".concat(t.label," 最小值不能大于最大值")):this.form[t.model]&&this.form[t.model]>this.form[t.maxModel]&&this.$message.warning("".concat(t.label," 最大值不能小于最小值"))},spreadData:function(e){var t=JSON.parse(JSON.stringify(e));this.formItemList.forEach((function(e){Object.keys(t).forEach((function(n){e.turnKey&&e.model===n?("date"===e.type&&"timestamp"===e.attrs.valueFormat?(t[e.attrs.begin]=t[n][0]||"",t[e.attrs.end]=t[n][1]?t[n][1]+86399e3:""):"date"===e.type&&"yyyy-MM-dd"===e.attrs.valueFormat?(t[e.attrs.begin]=t[n][0]||"",t[e.attrs.end]=t[n][1]?t[n][1]+"23:59:59":""):"date"===e.type&&"yyyy-MM-dd HH:mm:ss"===e.attrs.valueFormat&&(t[e.attrs.begin]=t[n][0]||"",t[e.attrs.end]=t[n][1]||""),delete t[n]):e.turnKey&&e.model===n&&0===t[n].length?delete t[n]:e.turnLabel&&e.model===n&&e.attrs.options.forEach((function(n){n.model!==e.model&&(t[n.model]="")}))}))})),console.log(1),this.$emit("get-search-form-data",t)}}},A=I,N=(n("4ffa"),Object(s["a"])(A,F,C,!1,null,"e96f6d9e",null)),P=N.exports;P.install=function(e){e.component(P.name,P)};var H=P,V=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("mgTable")])},B=[],J={name:"mgTable"},R=J,q=Object(s["a"])(R,V,B,!1,null,"505f04a8",null),K=q.exports;K.install=function(e){e.component(K.name,K)};var z=K,U=[H,z],G=function e(t){e.installed||U.map((function(e){return t.component(e.name,e)}))};"undefined"!==typeof window&&window.Vue&&G(window.Vue);var Q={install:G,mgSearchForm:H,mgTable:z},W=n("5c96"),X=n.n(W);n("0fae"),n("9f21"),n("8e1f");a["default"].config.productionTip=!1,a["default"].use(Q),a["default"].use(X.a),new a["default"]({router:T,store:E,render:function(e){return e(u)}}).$mount("#app")},"7c55":function(e,t,n){"use strict";n("072d")},"8e1f":function(e,t,n){},d2b3:function(e,t,n){}});
//# sourceMappingURL=app.6d85e067.js.map